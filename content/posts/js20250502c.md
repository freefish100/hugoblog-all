+++
title = "dufs 文件服务器"
date = 2025-05-02
subtitle = ""
description = "dufs 文件服务器"
author = ""
image = ""
tags =  ["服务器"]
categories = ["技术笔记" ]
featured = false # 是否把本文设置为精选
draft = false
+++

https://github.com/sigoden/dufs
docker部署
```
sudo docker run -d -v `pwd`:/data -p 5005:5000 --rm sigoden/dufs /data -A
```

admin有全部权限，其它用户只有下载查看搜索权限
```
sudo docker run -d -v `pwd`:/data -p 5005:5000 --rm sigoden/dufs /data -A -a admin:admin@/:rw -a @/ --allow-search --allow-archive
```

现在有个问题，是无法让admin以外的用户能有upload功能，即使设置了 --allow-uploa，如果给其它用户rw权限，那其它用户也同时有了删除权限。
```
sudo docker run -d -v `pwd`:/data -p 5005:5000 --rm sigoden/dufs /data -A -a admin:admin@/:rw -a @/:ro --allow-search --allow-archive --allow-upload
```