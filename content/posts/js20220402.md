+++
title = "存储中的10Gb iSCSI 光纤与 8Gb/16Gb 的光纤区别，光纤网卡和HBA卡的区别"
subtitle = ""
description = "存储中的10Gb iSCSI 光纤与 8Gb/16Gb 的光纤区别，光纤网卡和HBA卡的区别"
date = 2022-04-02
author = ""
image = ""
tags =  ["硬件设备"]
categories = ["技术笔记" ]
featured = false # 是否把本文设置为精选
+++

10Gb iSCSI 光纤与 8Gb/16Gb 的光纤两者有什么区别呢？我们可以把 10Gb iSCSI 光纤视为10Gb 的光纤以太网卡，将 8Gb/16Gb 光纤视为光纤 HBA 卡，这样去对比两者的区别就容易得多了，首先两者使用的 SFP（Small form Factor Pluggable）模块不可以通用，也就是说存储产品中的 8Gb/16GB SFP 模块与 10Gb的SFP 模块不能混用。

在早期的 SAN（存储区域网络）存储系统中，服务器与交换机的数据传输是通过光纤进行的，因为服务器是把 SCSI（Small Computer System Interface小型计算机系统接口）指令传输到存储设备上，不能走普通以太网的 TCP/IP 协议，所以需要使用 FC 传输，因此这种 SAN 就叫 FC-SAN，而后期出现了用 IP 协议封装的 SAN，可以完全走普通 LAN 网络，因此叫做 IP-SAN，其中最典型的就是现在热门的 ISCSI。

这两种方式都需要对数据块进行繁重的读包解包操作，因此高性能的 SAN 系统是需要在服务器上安装一块专门负责解包工作以减轻处理器负担的卡，这种卡就叫 HBA 卡（Host Bus Adapter，即主机总线适配器），它除了执行解包工作外当然还可以提供一个光纤接口（如果是 iSCSI HBA 卡就是提供普通的 RJ45 接口）以用于跟对应的交换机连接；另外，HBA 卡物理上也可以把它当作网卡一样插在服务器的 PCI-E 插槽上，因此这种设备的用法非常像一块网卡，很多人也就把它跟普通网卡或普通的光纤网卡混淆了。当然，有的 iSCSI HBA 卡就可以当作普通网卡来用，不过从价格上考虑这是非常奢侈，以至于我们很少见到 ISCSI HBA 卡，通常客户都是使用 iSCSI_Initiator 软件加服务器板载网卡进行搭配使用。

HBA 的常规定义就是连接主机 I/O 总线和计算机内存系统的 I/O 适配器。按照这个定义，像显卡就是连接视频总线和内存，网卡就是连接网络总线和内存，SCSI 或者 FC 卡就是连接 SCSI 或者 FC 总线和内存的，它们都是 HBA。HBA 卡有 FC HBA、SAS HBA、iSCSI HBA 将来还有其他 HBA 卡。

其实，网卡是大家常提到的一个类型设备的总称，是指安装在主机里，通过网络连接线（双绞线、光纤线、同轴电缆等）与网络交换机（以太网交换机、FC 交换机）、或与其它网络设备（存储设备、服务器、工作站等）连接，从而形成一个网络的硬件设备。

因传输协议的不同的，网卡可分为三种，一是以太网卡，二是 FC 网卡，三是 iSCSI 网卡。

•以太网卡：学名 Ethernet Adapter，传输协议为 IP 协议，一般通过光纤线缆或双绞线与以太网交换机连接。接口类型分为光口和电口。光口一般都是通过光纤线缆来进行数据传输，接口模块一般为 SFP 和 GBIC。电口目前常用接口类型为 RJ45，用来与双绞线连接。

•FC卡：一般也叫光纤网卡，学名 Fibre Channel HBA。传输协议为光纤通道协议，一般通过光纤线缆与光纤通道交换机连接，接口模块也叫 SFP（传输率8Gb/s，16Gb/s）对应的接口为 LC。

•iSCSI 网卡：学名 iSCSI HBA，传输 iSCSI 协议，接口类型与以太网卡相同。

“光纤网卡”一般是指 FC HBA 卡，插在服务器上，外接存储用的光纤交换机；而光口的以太网卡一般都叫做“光纤以太网卡”，也是插在服务器上，不过它外接的是带光口的以太网交换机。

总结：

•8Gb/16Gb 光纤：俗称 FC SAN 存储与服务器之间传输的是 FC 协议；

•10Gb 光纤：俗称 IP SAN 传输的是 SCSI 封装的 TCP/IP 协议，需要单独的硬件 iSCSI 卡或者 iSCSI_Initiator 软件进行封装拆包解包的工作

FC SAN 存储网络独立于服务器、工作站之间使用的以太网，属于服务器与存储或备份设备间专用网络，不占用前端服务器与工作站的带宽，从而性能与可靠性、可用性有更好的保障，而 IP SAN 可以方便的接入到用户的现有网络环境中，部署与使用上比较灵活，适用于对存储性能与可靠性、可用性要求不是特别高的应用。

**HBA卡：FC-HBA卡(俗称：光纤网卡)、iSCSI-HBA卡(RJ45接口)**  
**以太网卡：光纤接口的以太网卡(俗称：光纤以太网卡)**
